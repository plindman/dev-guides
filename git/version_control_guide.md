# Version control

## Git Workflow

We use a simple Git workflow focused on **local branches and direct merges into `main`**.

### ✅ Core Rules

* Never commit directly to `main`.
* Always create a **separate branch** for each feature or fix.
* Once your work is complete and tested, **merge it into `main` locally**.
* Keep commit messages clear and focused.

### Managing .gitignore:

The .gitignore file specifies intentionally untracked files that Git should ignore. A well-maintained .gitignore is crucial for keeping the repository clean and free of unnecessary or sensitive files.

Essential Inclusions:

- Virtual Environments: Always ignore your virtual environment directories (e.g., .venv/, venv/).
- Local Configuration/Sensitive Data: Crucially, always ignore .env files which contain API keys, database credentials, or other sensitive information. Use .env.example to provide a template.
- IDE/Editor Files: Ignore configuration files generated by your IDE (e.g., .idea/ for PyCharm, .vscode/ for VS Code, *.sublime-project).
- Python Bytecode: Ignore __pycache__/ directories and *.pyc files.
- Build Artifacts: Ignore any generated build or distribution files (e.g., dist/, build/, *.egg-info/).
- Logs and Temporary Files: Ignore *.log, *.tmp files, and any specific output directories.

Best Practice: When setting up a new project or adding new types of files, ensure .gitignore is updated accordingly. You can often start with a comprehensive template, like those provided by github/gitignore, and then customize it for our project's specific needs.

### ✅ Typical Workflow

```bash
# 1. Update main
git checkout main
git pull

# 2. Create a new branch for your work
git checkout -b feat/my-feature

# 3. Do your work and commit as needed
git add .
git commit -m "feat: add user login flow"

# 4. Merge your changes back to main
git checkout main
git merge feat/my-feature

# 5. Delete your branch (optional)
git branch -d feat/my-feature
```

### ✅ Commit Message Format

Use clear, structured commit messages:

* `feat:` – New feature
* `fix:` – Bug fix
* `docs:` – Documentation
* `refactor:` – Code cleanup or internal changes
* `test:` – Adding or updating tests
* `chore:` – Miscellaneous changes (e.g. config, tooling)

Example:

```
fix: handle empty user input in login
```

### ✅ Merging Tips

* Prefer small, focused branches to avoid conflicts.
* Resolve merge conflicts locally when they occur:

  ```bash
  git status          # See which files are conflicted
  # Edit the files to fix the conflict
  git add .
  git commit          # Finalize the merge
  ```

